# 08 后续

其实这个程序提交上去的之后，面试官（也是公司创始人）问了我几个问题。
1. 食材配比的设计

我在前面[数据库设计](./03%20数据库和ORM.MD)中提到最初我们设计的食材配置是按百分比设计的，我加了一个总和必须为100%的验证。面试官问我为什么会加这么一个验证。其实是当时面试官给我需求里面就提到了ingredient_amount (% of dish)，所以我并没有过多去考虑这里。后来我改成了带单位的计量，不同食材可能单位不一样，有固体液体的。然后在Dish的配置显示中直接读取食材的单位。

2. When is using the typescript 'any' type appropriate?

* When integrating with legacy APIs or system;
* Handling dynamic data from third-part or uncertain data source.

3. What do you think would need to change before this was 'production ready'?

* Environmental isolation: create configurations for different ENVs, such as dev / uat / prod.
* Introduce a mechanism to encrypt and decrypt confidential information, such as database password.
* Add unit test cases and integrate automation testing.
* Improve the system design

(1) We have to consider the system access control, how many roles and the access of each role.

(2) Retain complete historical data and the modification process. We may have to add "created_by, created_at, updated_by, updated_at" columns for most of the data tables. We may have to add "soft delete“ flag (is_active or is_deleted) for most of the data tables.

Considering system performance, we even need to create historical data tables to save every change made by users.

(3) Considering the scalability of the system, we also need to make many things configurable, roles, access control matrix, date/time displaying format ...

(4) Support search, filter, sort, paging for the List APIs and UI. （这点我在后面已经实现了）
...


这个笔记只是一个Next.js的入门学习笔记，还达不到能直接工作的程度。后续我会继续深入的学习Next.js，例如环境隔离、如何部署、性能优化等等，有机会的话会继续分享。

再有一点就是不同版本的Next.js / React / ant-design也存在一些差异，我再写笔记的过程中从0开始把整个项目重新写了一遍，重写的过程中我都是手动安装包（会安装最新的版本），然后再把Cursor生成的代码慢慢Copy过去，经常遇到报错或警告。有些问题我解决了，有的时候基于把笔记写完我就直接降版本了。

如果我的笔记有什么地方不准确的，还请通过提issues进行反馈。